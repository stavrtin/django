{% extends 'wait_list_app/base_moselg.html' %}

{# yonetim/templates/list.html #}
{% load render_table from django_tables2 %}
{% load static %}



{% block content %}
<!--    Тут просто тест вывода содержимого БД Мед-организации<br>-->
<!--    {% for med_ in beds|slice:":6" %}-->
<!--        {{ med_ }} m_employ: {{ med_.m_employ }} <br>-->
<!--     {% endfor %}-->
<!--    {{ beds.as_table }}-->

<!--<div class="col-12">-->
<!--    <?php include "test_pag2.html" with page_obj=page_obj ?>-->

<!--</div>-->

<!--<nav class="list-pages">-->
<!--    <ul>-->
<!--        {% for p in page_obj.paginator.page_range %}-->
<!--        <li>-->
<!--            <a href="?page={{ p }}">{{ p }}</a>-->
<!--        </li>-->
<!--        {% endfor %}-->
<!--    </ul>-->
<!--</nav>-->
<!--****************************-->



{% if page_obj.has_previous %}
  <li><a href="?page={{ page_obj.previous_page_number }}">(Prev)</a></li>

  {% if page_obj.number > 3 %}
      <li><a href="?page=1">(1)</a></li>
    {% if page_obj.number > 4 %}
      <li><a >...</a></li>
    {% endif %}
  {% endif %}
{% endif %}

{% for num in page_obj.paginator.page_range %}
  {% if page_obj.number == num %}
      <li><a href="?page={{ num }}">({{ num }})</a></li>
  {% elif num > page_obj.number|add:'-3' and num < page_obj.number|add:'3' %}
      <li><a href="?page={{ num }}">({{ num }})</a></li>
  {% endif %}
{% endfor %}

{% if page_obj.has_next %}
  {% if page_obj.number < page_obj.paginator.num_pages|add:'-3' %}
    <li><a >...</a></li>
    <li><a href="?page={{ page_obj.paginator.num_pages }}">
      ({{ page_obj.paginator.num_pages }})
    </a></li>
  {% elif page_obj.number < page_obj.paginator.num_pages|add:'-2' %}
    <li><a href="?page={{ page_obj.paginator.num_pages }}">
      ({{ page_obj.paginator.num_pages }})
    </a></li>
  {% endif %}

  <li><a href="?page={{ page_obj.next_page_number }}">(Next)</a></li>
{% endif %}

{{ page_obj }} {{ page_obj.number }} sss
<br><br>
<!--****************************-->
    <br>
    <div class="row">
        <div class="col">
            <div class="card card-body's">
                <form method="get">
                    {{ myFilter.form}}
                    <button class="btn btn-primary" type="submit">Поиск</button>
                </form>
            </div>
        </div>

    </div>

 <table  class="table table-striped table-hover">
        <thead>
            <tr>
                <th>Произвести госп</th>
                <th>№</th>
                <th>Организация</th>
                <th>Занято муж.</th>
                <th>Занято жен.</th>
                <th>Свободно муж.</th>
                <th>Свободно жен.</th>
                <th>Дата сообщениях</th>
                <th>Прим.</th>
                <th>фыв</th>
                <th>фыв</th>
            </tr>
        </thead>
        <tbody>
            {% for med_ in page_obj|slice:":105" %}
            <tr>
                <td><button class="editbtn">Госпит</button></td>
                <td>{{ med_.id }}</td>
                <td>{{ med_.med_org }}</td>
                <td>{{ med_.m_employ }}</td>
                <td>{{ med_.f_employ }}</td>
                <td>{{ med_.m_free }}</td>
                <td>{{ med_.f_free }}</td>
                <td>{{ med_.create_at }}</td>
                <td>{{ med_.note }}</td>
    <!--            <td><button> <a href="{% url 'v_start_page' %}"> Исправить {{ med_.id  }}</a> </button></td>-->
                <td><a href="{% url 'edit_report_beds' report_beds_id=med_.id %}">Исправить {{ med_.id  }}</a></td>
                <td><button  type="submit" onclick="location.href='{% url 'v_start_page' %}'" >Исправить {{ med_.id  }} </button></td>
                <td><button class="editbtn">Удалить</button></td>
            </tr>
            {% endfor %}
    <!--     { render_table table %}-->
        </tbody>
    </table>

{% endblock %}
